#!/bin/bash
echo '{'
echo '    "family": "'$1'",'
echo '    "cpu": "256",'
echo '    "memory": "512",'
echo '    "networkMode": "awsvpc",'
echo '    "containerDefinitions": ['
echo '        {'
echo '            "name": "'$1'",'
echo '            "image": "'$2'",'
echo '            "memoryReservation": 300,'
echo '            "portMappings": ['
echo '                {'
echo '                    "containerPort": '$3','
echo '                    "hostPort": '$3','
echo '                    "protocol": "tcp"'
echo '                }'
echo '            ]'
echo '        }'
echo '    ],'
echo ''

echo '    "requiresCompatibilities": ['
echo '        "FARGATE"'
echo '    ],'
echo '    "tags": ['
echo '        {'
echo '            "key": "Name",'
echo '            "value": "'$1'"'
echo '        }'
echo '    ]'
echo '}'
